const createModal = $("#create-modal"), editModal = $("#edit-modal"), deleteModal = $("#delete-modal"); let genreID; $(".dimis-modal").click(function () { createModal.modal("hide"), editModal.modal("hide"), deleteModal.modal("hide") }), $("#create__open").click(function () { createModal.modal("show") }), $("#create__save").click(function () { const e = $("#create__input").val(); if ("" != e) return $.ajax({ type: "POST", url: "/Genres/Create", contentType: "application/json; charset=utf-8", data: JSON.stringify({ genreName: e }), dataType: "json", success: function (e) { if ("exist" != e) { return Swal.mixin({ toast: !0, position: "top-end", showConfirmButton: !1, timer: 1e3, didOpen: e => { e.addEventListener("mouseenter", Swal.stopTimer), e.addEventListener("mouseleave", Swal.resumeTimer) } }).fire({ icon: "success", title: "Thêm thành công" }), setTimeout(function () { window.location.reload() }, 500), void createModalLogin.modal("hide") } Swal.mixin({ toast: !0, position: "top", showConfirmButton: !1, timer: 1500, didOpen: e => { e.addEventListener("mouseenter", Swal.stopTimer), e.addEventListener("mouseleave", Swal.resumeTimer) } }).fire({ icon: "error", title: "Tên đã tồn tại" }) }, error: function () { Swal.mixin({ toast: !0, position: "top-end", showConfirmButton: !1, timer: 1500, didOpen: e => { e.addEventListener("mouseenter", Swal.stopTimer), e.addEventListener("mouseleave", Swal.resumeTimer) } }).fire({ icon: "error", title: "Thêm không thành công" }) } }); Swal.mixin({ toast: !0, position: "top", showConfirmButton: !1, timer: 1500, didOpen: e => { e.addEventListener("mouseenter", Swal.stopTimer), e.addEventListener("mouseleave", Swal.resumeTimer) } }).fire({ icon: "warning", title: "Nhập tên loại" }) }); var editOpen = function (e, t) { editModal.find("#edit__input").val(t), editModal.modal("show"), genreID = e }; $("#edit__save").click(function () { const e = $("#edit__input").val(); if ("" != e) return $.ajax({ type: "POST", url: "/Genres/Edit", contentType: "application/json; charset=utf-8", data: JSON.stringify({ id: genreID, genreName: e }), dataType: "json", success: function (e) { if ("exist" != e) { return Swal.mixin({ toast: !0, position: "top-end", showConfirmButton: !1, timer: 1e3, didOpen: e => { e.addEventListener("mouseenter", Swal.stopTimer), e.addEventListener("mouseleave", Swal.resumeTimer) } }).fire({ icon: "success", title: "Cập nhật thành công" }), void setTimeout(function () { window.location.reload() }, 500) } Swal.mixin({ toast: !0, position: "top", showConfirmButton: !1, timer: 1500, didOpen: e => { e.addEventListener("mouseenter", Swal.stopTimer), e.addEventListener("mouseleave", Swal.resumeTimer) } }).fire({ icon: "error", title: "Tên đã tồn tại" }) }, error: function () { Swal.mixin({ toast: !0, position: "top-end", showConfirmButton: !1, timer: 1500, didOpen: e => { e.addEventListener("mouseenter", Swal.stopTimer), e.addEventListener("mouseleave", Swal.resumeTimer) } }).fire({ icon: "error", title: "Chỉnh sửa thành công" }) } }); Swal.mixin({ toast: !0, position: "top", showConfirmButton: !1, timer: 1500, didOpen: e => { e.addEventListener("mouseenter", Swal.stopTimer), e.addEventListener("mouseleave", Swal.resumeTimer) } }).fire({ icon: "warning", title: "Nhập tên loại" }) }); var deleteOpen = function (e, t) { deleteModal.find("#delete__name").text(t), deleteModal.modal("show"), genreID = e }; $("#delete__submit").click(function () { $.ajax({ type: "POST", url: "/Genres/Delete", contentType: "application/json; charset=utf-8", data: JSON.stringify({ id: genreID }), dataType: "json", success: function (e) { if ("delete" == e) { return Swal.mixin({ toast: !0, position: "top-end", showConfirmButton: !1, timer: 1e3, didOpen: e => { e.addEventListener("mouseenter", Swal.stopTimer), e.addEventListener("mouseleave", Swal.resumeTimer) } }).fire({ icon: "success", title: "Xóa thành công" }), deleteModal.modal("hide"), void $("#item_" + genreID).remove() } }, error: function () { Swal.mixin({ toast: !0, position: "top", showConfirmButton: !1, timer: 1500, didOpen: e => { e.addEventListener("mouseenter", Swal.stopTimer), e.addEventListener("mouseleave", Swal.resumeTimer) } }).fire({ icon: "error", title: "Xóa thất bại" }) } }) });