var replyModal = $("#reply-modal"); $(".dimis-modal").click(function () { replyModal.modal("hide") }); var CreateReplyFeedback = function (e, t, n, i) { var o, r, a, l; if (replyModal.modal("show"), $("#feedback-product").text(t), $("#feedback-content").html(n), $("#reply_comment_con").text('<p style="font-weight:500;">@' + i + "</p>"), Simditor.locale = "en-US", l = ["title", "bold", "italic", "underline", "strikethrough", "fontScale", "color", "|", "ol", "ul", "blockquote", "|", "link", "image", "hr", "|", "indent", "outdent", "alignment"], a = ["bold", "underline", "strikethrough", "color", "ul", "ol"], mobilecheck() && (l = a), r = new Simditor({ textarea: $("#reply_comment_con"), toolbar: l, pasteImage: !0, defaultImage: "/Content/Images/favicon.png", upload: "?upload" === location.search && { url: "/upload" } }), (o = $("#preview")).length > 0) return r.on("valuechanged", function (e) { return o.html(r.getValue()) }); let m = e; $("#submit_reply_comm").click(function () { var e = $("#reply_comment_con").val(); if ("" == e) { Swal.mixin({ toast: !0, position: "top", showConfirmButton: !1, timer: 2500, didOpen: e => { e.addEventListener("mouseenter", Swal.stopTimer), e.addEventListener("mouseleave", Swal.resumeTimer) } }).fire({ icon: "warning", title: "Vui lòng nhập nội dung bình luận!" }) } else { if (e.length < 20) { return Swal.mixin({ toast: !0, position: "top", showConfirmButton: !1, timer: 2500, didOpen: e => { e.addEventListener("mouseenter", Swal.stopTimer), e.addEventListener("mouseleave", Swal.resumeTimer) } }).fire({ icon: "warning", title: "Nội dung tối thiểu 20 ký tự" }), !1 } if (e.length > 500) { return Swal.mixin({ toast: !0, position: "top", showConfirmButton: !1, timer: 2500, didOpen: e => { e.addEventListener("mouseenter", Swal.stopTimer), e.addEventListener("mouseleave", Swal.resumeTimer) } }).fire({ icon: "warning", title: "Nội dung bình luận không quá 500 ký tự" }), !1 } $.ajax({ type: "POST", url: "/Feedbacks/ReplyComment", contentType: "application/json; charset=utf-8", data: JSON.stringify({ id: m, reply_content: e }), dataType: "json", success: function (e) { if (1 == e) { return Swal.mixin({ toast: !0, position: "top", showConfirmButton: !1, timer: 1500, didOpen: e => { e.addEventListener("mouseenter", Swal.stopTimer), e.addEventListener("mouseleave", Swal.resumeTimer) } }).fire({ icon: "success", title: "Phản hồi thành công" }), void replyModal.modal("hide") } return Swal.mixin({ toast: !0, position: "top", showConfirmButton: !1, timer: 1500, didOpen: e => { e.addEventListener("mouseenter", Swal.stopTimer), e.addEventListener("mouseleave", Swal.resumeTimer) } }).fire({ icon: "error", title: "Đã có lỗi xảy ra" }), !1 }, error: function () { Swal.mixin({ toast: !0, position: "top", showConfirmButton: !1, timer: 2500, didOpen: e => { e.addEventListener("mouseenter", Swal.stopTimer), e.addEventListener("mouseleave", Swal.resumeTimer) } }).fire({ icon: "error", title: "!Lỗi" }) } }) } }) };